import type { Project, Task } from '../types';
import { getDateFromTodayISO, getTodayISO } from '../utils/dateUtils';

// Helper to create tasks
const createTask = (
  id: string,
  projectId: string,
  name: string,
  description: string,
  status: 'todo' | 'in_progress' | 'completed',
  dueDaysFromNow: number,
  completedDaysAgo?: number
): Task => ({
  id,
  projectId,
  name,
  description,
  status,
  dueDate: getDateFromTodayISO(dueDaysFromNow),
  completedDate: status === 'completed' && completedDaysAgo !== undefined
    ? getDateFromTodayISO(-completedDaysAgo)
    : null,
  createdAt: getDateFromTodayISO(-10),
  updatedAt: getTodayISO(),
});

export const mockProjects: Project[] = [
  {
    id: 'proj-1',
    name: 'Website Redesign',
    description: 'Complete overhaul of the company website with new branding, improved UX, and mobile-first approach.',
    status: 'in_progress',
    priority: 'high',
    category: 'Development',
    owner: 'Sarah Chen',
    startDate: getDateFromTodayISO(-30),
    dueDate: getDateFromTodayISO(14),
    completedDate: null,
    tasks: [
      createTask('task-1-1', 'proj-1', 'Design mockups', 'Create high-fidelity mockups for all pages', 'completed', -5, 7),
      createTask('task-1-2', 'proj-1', 'Setup development environment', 'Configure build tools and CI/CD', 'completed', -3, 5),
      createTask('task-1-3', 'proj-1', 'Implement homepage', 'Build the new homepage with React components', 'in_progress', 7),
      createTask('task-1-4', 'proj-1', 'Build contact form', 'Create form with validation and email integration', 'todo', 10),
      createTask('task-1-5', 'proj-1', 'Performance optimization', 'Optimize images, lazy loading, and caching', 'todo', 14),
    ],
    createdAt: getDateFromTodayISO(-30),
    updatedAt: getTodayISO(),
  },
  {
    id: 'proj-2',
    name: 'Mobile App Launch',
    description: 'Launch the new mobile application on iOS and Android platforms with core features.',
    status: 'in_progress',
    priority: 'high',
    category: 'Development',
    owner: 'Mike Johnson',
    startDate: getDateFromTodayISO(-45),
    dueDate: getDateFromTodayISO(5),
    completedDate: null,
    tasks: [
      createTask('task-2-1', 'proj-2', 'Core features development', 'Implement main app functionality', 'completed', -10, 12),
      createTask('task-2-2', 'proj-2', 'UI implementation', 'Build all screens according to design', 'completed', -5, 8),
      createTask('task-2-3', 'proj-2', 'API integration', 'Connect app to backend services', 'in_progress', 2),
      createTask('task-2-4', 'proj-2', 'Testing & QA', 'Comprehensive testing on multiple devices', 'todo', 4),
      createTask('task-2-5', 'proj-2', 'App store submission', 'Prepare and submit to app stores', 'todo', 5),
    ],
    createdAt: getDateFromTodayISO(-45),
    updatedAt: getTodayISO(),
  },
  {
    id: 'proj-3',
    name: 'Q1 Marketing Campaign',
    description: 'Plan and execute the first quarter marketing campaign across all channels.',
    status: 'todo',
    priority: 'medium',
    category: 'Marketing',
    owner: 'Emily Davis',
    startDate: getDateFromTodayISO(7),
    dueDate: getDateFromTodayISO(60),
    completedDate: null,
    tasks: [
      createTask('task-3-1', 'proj-3', 'Market research', 'Analyze target audience and competitors', 'todo', 14),
      createTask('task-3-2', 'proj-3', 'Campaign strategy', 'Define goals, channels, and messaging', 'todo', 21),
      createTask('task-3-3', 'proj-3', 'Content creation', 'Develop marketing materials and copy', 'todo', 35),
      createTask('task-3-4', 'proj-3', 'Campaign launch', 'Execute campaign across all platforms', 'todo', 45),
    ],
    createdAt: getDateFromTodayISO(-5),
    updatedAt: getTodayISO(),
  },
  {
    id: 'proj-4',
    name: 'Database Migration',
    description: 'Migrate legacy database to new cloud infrastructure with zero downtime.',
    status: 'in_progress',
    priority: 'high',
    category: 'Infrastructure',
    owner: 'David Park',
    startDate: getDateFromTodayISO(-20),
    dueDate: getDateFromTodayISO(-2),
    completedDate: null,
    tasks: [
      createTask('task-4-1', 'proj-4', 'Schema analysis', 'Document current schema and dependencies', 'completed', -15, 18),
      createTask('task-4-2', 'proj-4', 'Migration scripts', 'Write and test data migration scripts', 'completed', -10, 14),
      createTask('task-4-3', 'proj-4', 'Staging migration', 'Test migration in staging environment', 'completed', -5, 8),
      createTask('task-4-4', 'proj-4', 'Production migration', 'Execute migration on production', 'in_progress', -2),
      createTask('task-4-5', 'proj-4', 'Validation & cleanup', 'Verify data integrity and clean up', 'todo', 2),
    ],
    createdAt: getDateFromTodayISO(-20),
    updatedAt: getTodayISO(),
  },
  {
    id: 'proj-5',
    name: 'Employee Training Program',
    description: 'Develop comprehensive training materials for new employee onboarding.',
    status: 'completed',
    priority: 'medium',
    category: 'HR',
    owner: 'Lisa Wong',
    startDate: getDateFromTodayISO(-60),
    dueDate: getDateFromTodayISO(-10),
    completedDate: getDateFromTodayISO(-10),
    tasks: [
      createTask('task-5-1', 'proj-5', 'Training needs assessment', 'Identify key skills and knowledge gaps', 'completed', -50, 52),
      createTask('task-5-2', 'proj-5', 'Course development', 'Create training modules and materials', 'completed', -30, 35),
      createTask('task-5-3', 'proj-5', 'Platform setup', 'Configure LMS and upload content', 'completed', -20, 22),
      createTask('task-5-4', 'proj-5', 'Pilot program', 'Test with initial group of employees', 'completed', -10, 10),
    ],
    createdAt: getDateFromTodayISO(-60),
    updatedAt: getDateFromTodayISO(-10),
  },
  {
    id: 'proj-6',
    name: 'Security Audit',
    description: 'Conduct comprehensive security audit of all systems and implement recommendations.',
    status: 'todo',
    priority: 'high',
    category: 'Security',
    owner: 'James Wilson',
    startDate: getDateFromTodayISO(3),
    dueDate: getDateFromTodayISO(30),
    completedDate: null,
    tasks: [
      createTask('task-6-1', 'proj-6', 'Vulnerability scanning', 'Scan all systems for vulnerabilities', 'todo', 10),
      createTask('task-6-2', 'proj-6', 'Penetration testing', 'Conduct penetration tests on critical systems', 'todo', 18),
      createTask('task-6-3', 'proj-6', 'Report compilation', 'Document findings and recommendations', 'todo', 25),
      createTask('task-6-4', 'proj-6', 'Remediation plan', 'Create action plan for addressing issues', 'todo', 30),
    ],
    createdAt: getDateFromTodayISO(-2),
    updatedAt: getTodayISO(),
  },
  {
    id: 'proj-7',
    name: 'Customer Portal',
    description: 'Build a self-service customer portal for account management and support.',
    status: 'in_progress',
    priority: 'medium',
    category: 'Development',
    owner: 'Sarah Chen',
    startDate: getDateFromTodayISO(-25),
    dueDate: getDateFromTodayISO(20),
    completedDate: null,
    tasks: [
      createTask('task-7-1', 'proj-7', 'Requirements gathering', 'Document all portal requirements', 'completed', -20, 22),
      createTask('task-7-2', 'proj-7', 'UI/UX design', 'Design portal interface and user flows', 'completed', -10, 12),
      createTask('task-7-3', 'proj-7', 'Authentication system', 'Implement secure login and SSO', 'in_progress', 5),
      createTask('task-7-4', 'proj-7', 'Dashboard development', 'Build account dashboard and metrics', 'todo', 12),
      createTask('task-7-5', 'proj-7', 'Support integration', 'Integrate ticketing and chat support', 'todo', 18),
    ],
    createdAt: getDateFromTodayISO(-25),
    updatedAt: getTodayISO(),
  },
  {
    id: 'proj-8',
    name: 'Annual Report',
    description: 'Prepare the company annual report for stakeholders and investors.',
    status: 'completed',
    priority: 'low',
    category: 'Finance',
    owner: 'Robert Kim',
    startDate: getDateFromTodayISO(-90),
    dueDate: getDateFromTodayISO(-30),
    completedDate: getDateFromTodayISO(-32),
    tasks: [
      createTask('task-8-1', 'proj-8', 'Financial data compilation', 'Gather all financial statements', 'completed', -70, 72),
      createTask('task-8-2', 'proj-8', 'Executive summary', 'Write executive summary and highlights', 'completed', -50, 55),
      createTask('task-8-3', 'proj-8', 'Design and layout', 'Design report with graphics and charts', 'completed', -40, 42),
      createTask('task-8-4', 'proj-8', 'Review and approval', 'Get sign-off from leadership', 'completed', -30, 32),
    ],
    createdAt: getDateFromTodayISO(-90),
    updatedAt: getDateFromTodayISO(-30),
  },
];

export const categories = [
  'Development',
  'Marketing',
  'Infrastructure',
  'HR',
  'Security',
  'Finance',
  'Operations',
  'Design',
];

// Owners list is now built dynamically from existing projects
// This empty array is kept for backwards compatibility with browser mode
export const owners: string[] = [];
